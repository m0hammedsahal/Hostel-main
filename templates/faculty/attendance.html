{% extends 'base/web-base.html' %}
{% load static %}
{% block container %}
<body>
    <section class="w-full min-h-[100vh] h-full bg-blue-100 pb-6">
        <section class="w-[90%] mx-auto">
            <h1 class="font-bold text-[35px]  text-blue-950  pt-8">ATTENDANCE</h1>
            <div class="w-full h-[500px] bg-green-50 rounded-2xl mt-6 px-5">
                <h3 class="pt-3 font-semibold text-[25px]  text-blue-950  mb-4">Attendance details:</h3>
                <br>
                <div class="overflow-x-auto">
                    <table class="min-w-full border-collapse border border-gray-300 bg-white text-left text-sm text-gray-700">
                        <thead>
                          <tr>
                            <th class="border border-gray-300 bg-blue-200 px-6 py-3 text-gray-800 font-semibold">S.No</th>
                            <th class="border border-gray-300 bg-blue-200 px-6 py-3 text-gray-800 font-semibold">Name</th>
                            <th class="border border-gray-300 bg-blue-200 px-6 py-3 text-gray-800 font-semibold">Attendance Status</th>
                          </tr>
                        </thead>
                        
                        <form method="post" action="{% url 'faculty:mark_attendance' %}">
                          {% csrf_token %}
                        <tbody>
                          {% for student in students %}
                          <tr class="hover:bg-gray-50">
                            <td class="border border-gray-300 px-6 py-3">{{ forloop.counter }}</td>
                            <td class="border border-gray-300 px-6 py-3">{{ student.user.student_name }}</td>
                            <td class="border border-gray-300 px-6 py-3">
                              <select name="attendance_status_{{ student.id }}" class="bg-gray-50 border border-gray-300 px-4 py-2 rounded-md">
                                <option value="present" class="text-blue-500">Present</option>
                                <option value="absent" class="text-red-500">Absent</option>
                              </select>                        
                            </td>
                          </tr>
                          {% endfor %}
                        </tbody>
                        <input type="date" name="attendance_date" value="{{ today|date:'Y-m-d' }}" class="bg-gray-50 border border-gray-300 mr-4 mb-4 px-4 py-2 rounded-md">
                        <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 mb-4 rounded">
                          Mark Attendance
                        </button>
                      
                        </form>
                      </table>
                    
                </div>
            </div>
        </section>
    </section>
{% endblock %}